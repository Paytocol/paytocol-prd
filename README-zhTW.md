# Paytocol (paytocol.xyz)

## 獎勵贊助
- Circle，基於 CCTP2.0 讓用戶可以在任意鏈將資金提領出來或是存入合約來贊助
- 1inch，用戶可以選擇用什麼代幣來支付，會先轉為 USDC / 換為可生息的利率
- World Mini App
- 1inch funsion+ 是否能夠發 postMessage

## 主題情境 (下述二選一?)


### 🌊 意圖網路模式 (current)

#### 使用者進行贊助
當使用者創建一個支付請求時，資訊將根據「使用 dApp 支付」的方式將代幣利用
1. 使用者可以透過 dApp 使用收款人地址、金額、代幣地址、期限和接收人地址來支付代幣
1. 利用 1inch 將非穩定幣轉為穩定幣的計價額度 (1inch swap api)
1. 將穩定幣轉為生息資產 (how to?)
1. 將換出的穩定幣/生息資產，收款人地址，贊助週期等資訊寫入 backend 後轉入合約

#### Guardian (only show in system diagram)
用來驗證鏈上交易是否完成，能對一個訂單進行狀態的改變，例如 驗證 close 或是挑戰 open。

#### Paytocol Solver
當有一筆贊助的訂單出現時，Solver 可以跟 backend 取得訂單資訊，並且進一步去根據抵押存款來取得訂單的結算權。
根據 blocktime 來決定時間完成與否。
他可以是一個 cross chain streaming protocol 的生態。

#### 被贊助者提領資金
Solver 需要根據 blocktime 在正負 1 小時內將訂單完成
1. 收款方可以在後台設定提領時選擇在那個鏈與錢包收款
1. Solver 需要 invokes Paytocol -> CCTP 2.0


## Under discussion

### 使用 intent-based 的運作
第一個解決方案提供者可以透過存入保證金來獲得支付。
當解決方案提供者完成支付後，該提供者可以領取其保證金和協議產生的額外利息。
如果使用者的支付是週期性的/可重複的，則首次分配的獲勝者將成為下一個訂單的第一名。

為什麼需要解決方案提供者？
利用生態競爭，讓 Solver 與獎勵機制，在沒有中心化管理者的情況下執行使用者的意圖


## 待解決的問題
- 如何驗證支付是否符合使用者的期望

- 如何在沒有中央授權機構的情況下驗證支付
- 如何在沒有中央授權機構的情況下確定特定代幣屬於特定使用者
- 交易共識
    - 中心化方式：質疑期
    - 去中心化方式：工作量證明
- 如何防止雙重支付
    - 中心化方式：中央伺服器記錄所有交易
    - 去中心化方式：

## Other 
如何產生槓桿效應。
